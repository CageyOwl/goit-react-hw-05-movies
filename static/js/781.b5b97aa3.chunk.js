"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[781],{1398:function(e,t,n){n.d(t,{Z:function(){return u}});var r,a=n(168),s=n(6444).ZP.p(r||(r=(0,a.Z)(["\n  font-size: 36px;\n  color: #ff0000;\n  text-align: center;\n"]))),o=n(184);function u(e){var t=e.message;return(0,o.jsx)(s,{children:t})}},2906:function(e,t,n){function r(e,t,n,r,a,s,o){try{var u=e[s](o),c=u.value}catch(i){return void n(i)}u.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var o=e.apply(t,n);function u(e){r(o,a,s,u,c,"next",e)}function c(e){r(o,a,s,u,c,"throw",e)}u(void 0)}))}}n.d(t,{Z:function(){return f}});var s=n(9439),o=n(7757),u=n.n(o),c=n(2791),i=n(6393),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Kn,n=(0,c.useState)(i.Q_.IDLE),r=(0,s.Z)(n,2),o=r[0],f=r[1],p=(0,c.useState)(null),l=(0,s.Z)(p,2),v=l[0],h=l[1],E=(0,c.useState)(""),g=(0,s.Z)(E,2),d=g[0],b=g[1];return(0,c.useEffect)((function(){function n(){return n=a(u().mark((function e(t,n){var r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return f(i.Q_.PENDING),r={},e.prev=4,e.next=7,fetch("".concat(n).concat(t));case 7:if((r=e.sent).ok){e.next=10;break}throw new Error("No data found, please, change your request and try again.");case 10:r=r.json(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),b(e.t0.message),f(i.Q_.REJECTED);case 17:return e.next=19,r;case 19:a=e.sent,h(a),f(i.Q_.RESOLVED);case 22:case"end":return e.stop()}}),e,null,[[4,13]])}))),n.apply(this,arguments)}!function(e,t){n.apply(this,arguments)}(e,t)}),[e,t]),{status:o,setStatus:f,responseData:v,errorMessage:d,setErrorMessage:b}}},6781:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r,a,s=n(9439),o=n(2791),u=n(1087),c=n(2906),i=n(6393),f=n(168),p=n(6444),l=p.ZP.input(r||(r=(0,f.Z)(["\n    font-size: 24px;\n"]))),v=p.ZP.button(a||(a=(0,f.Z)(["\n    font-size: 24px;\n    color: #fff;\n    background-color: #aaf;\n\n    &:hover {\n        background-color: navy;\n    }\n"]))),h=n(184);function E(e){var t=e.onSubmit;return(0,h.jsxs)("form",{name:"search-form",onSubmit:t,children:[(0,h.jsx)(l,{name:"search-input",type:"text"}),(0,h.jsx)(v,{type:"submit",children:"Submit"})]})}var g=n(2673),d=n(1398),b=(0,o.lazy)((function(){return n.e(210).then(n.bind(n,3210))}));function m(){var e=(0,u.lr)(),t=(0,s.Z)(e,2),n=t[0],r=t[1],a=(0,c.Z)(n.get("query")?"/search/movie?api_key=".concat(i.sk,"&").concat(n.toString(),"}"):""),f=a.status,p=a.setStatus,l=a.responseData,v=a.errorMessage,m=a.setErrorMessage;return(0,o.useEffect)((function(){f===i.Q_.RESOLVED&&(l.results.length||(m('No movies found on a query "'.concat(n.get("query"),'".')),p(i.Q_.REJECTED)))}),[f,l,n,m,p]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(E,{onSubmit:function(e){e.preventDefault();var t=e.target.querySelector("input").value.trim();t!==n.get("query")&&(t?r({query:t}):(r({}),m("Empty input. Please, write something."),p(i.Q_.REJECTED)),e.target.reset())}}),f===i.Q_.PENDING&&(0,h.jsx)(g.Z,{}),f===i.Q_.REJECTED&&(0,h.jsx)(d.Z,{message:v}),f===i.Q_.RESOLVED&&(0,h.jsx)(b,{moviesDataArr:l.results})]})}},6393:function(e,t,n){n.d(t,{Kn:function(){return r},Q_:function(){return u},iJ:function(){return s},pm:function(){return c},r2:function(){return o},sk:function(){return a}});var r="https://api.themoviedb.org/3",a="66b82de9da5bf29292195e4434639692",s="https://image.tmdb.org/t/p/w500",o="/trending/all/day?api_key=".concat(a),u={IDLE:0,PENDING:1,REJECTED:2,RESOLVED:3};Object.freeze(u);var c="https://www.themoviedb.org/assets/2/v4/glyphicons/basic/glyphicons-basic-38-picture-grey-c2ebdbb057f2a7614185931650f8cee23fa137b93812ccb132b9df511df1cfac.svg"}}]);
//# sourceMappingURL=781.b5b97aa3.chunk.js.map