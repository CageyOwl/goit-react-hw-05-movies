{"version":3,"file":"static/js/884.74ae14e2.chunk.js","mappings":"sLAGMA,E,QAAkBC,GAAAA,EAAH,sF,SCCN,SAASC,EAAT,GAAoC,IAAZC,EAAW,EAAXA,QACrC,OAAO,SAACH,EAAD,UAAkBG,GAC1B,C,uBCND,SAASC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBE,EAAQD,EAAKC,KAInB,CAHE,MAAOC,GAEP,YADAP,EAAOO,EAET,CAEIF,EAAKG,KACPT,EAAQO,GAERG,QAAQV,QAAQO,GAAOI,KAAKT,EAAOC,EAEvC,CAEe,SAASS,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIP,SAAQ,SAAUV,EAASC,GACpC,IAAIF,EAAMc,EAAGK,MAAMJ,EAAME,GAEzB,SAASd,EAAMK,GACbT,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQI,EAClE,CAEA,SAASJ,EAAOgB,GACdrB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASgB,EACnE,CAEAjB,OAAMkB,EACR,GACF,CACF,C,qFCMA,EApCiB,SAACC,GAAiD,IAAvCC,EAAsC,uDAAzBC,EAAAA,GACvC,GAA4BC,EAAAA,EAAAA,UAASC,EAAAA,GAAAA,MAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCH,EAAAA,EAAAA,UAAS,MAAjD,eAAOI,EAAP,KAAqBC,EAArB,KACA,GAAwCL,EAAAA,EAAAA,UAAS,IAAjD,eAAOM,EAAP,KAAqBC,EAArB,KA6BA,OA3BAC,EAAAA,EAAAA,YAAU,WAAM,kCACd,WAAyBX,EAAUC,GAAnC,4EACOD,EADP,wDAGEM,EAAUF,EAAAA,GAAAA,SACNQ,EAAW,CAAC,EAJlB,kBAMqBC,MAAM,GAAD,OAAIZ,GAAJ,OAAiBD,IAN3C,WAMIY,EANJ,QAOkBE,GAPlB,uBAQY,IAAIC,MACR,6DATR,QAYIH,EAAWA,EAASI,OAZxB,kDAcIN,EAAgB,KAAMlC,SACtB8B,EAAUF,EAAAA,GAAAA,UAfd,yBAkBqBQ,EAlBrB,QAkBQK,EAlBR,OAmBET,EAAgBS,GAChBX,EAAUF,EAAAA,GAAAA,UApBZ,0DADc,yBAAC,SAAD,6BAwBdc,CAAUlB,EAAUC,EACrB,GAAE,CAACD,EAAUC,IAEP,CAACI,OAAAA,EAAQC,UAAAA,EAAWC,aAAAA,EAAcE,aAAAA,EAAcC,gBAAAA,EACxD,C,uJCvBKS,GAAmBC,EAAAA,EAAAA,OAAK,kBAAM,4BAAN,IACxBC,GAAiBD,EAAAA,EAAAA,OAAK,kBAAM,6BAAN,IAGb,SAASE,IAAgB,IAAD,IAC7BC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GACEE,EAAAA,EAAAA,GAAS,UAAD,OAAWF,EAAX,oBAA8BG,EAAAA,KADhCrB,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,UAAWC,EAA3B,EAA2BA,aAAcE,EAAzC,EAAyCA,aAAcC,EAAvD,EAAuDA,gBAGjDiB,GAAWC,EAAAA,EAAAA,MACXC,EAAY,oBAAGF,EAASG,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,UACzCC,EAAIzB,EAUR,OARAI,EAAAA,EAAAA,YAAU,WACJN,IAAWD,EAAAA,GAAAA,WACVG,IACHG,EAAgB,qCAChBJ,EAAUF,EAAAA,GAAAA,WAEb,GAAE,CAACC,EAAQE,EAAcG,EAAiBJ,KAGzC,iCACE,SAAC,KAAD,CAAU2B,GAAIJ,EAAd,qBACCxB,IAAWD,EAAAA,GAAAA,UAAkB,SAAC,IAAD,IAC7BC,IAAWD,EAAAA,GAAAA,WAAmB,SAAC,IAAD,CAAc5B,QAASiC,IACrDJ,IAAWD,EAAAA,GAAAA,WACV,iCACE,SAACe,EAAD,CACEe,UAAWF,EAAEG,YAAF,UAAmBC,EAAAA,IAAnB,OAA0CJ,EAAEG,aAAgBE,EAAAA,GACvEC,MAAON,EAAEM,OAASN,EAAEO,gBAAb,gBAAwChB,GAC/CiB,UAAWR,EAAES,aACbC,SAAUV,EAAEU,SACZC,OAAQX,EAAEW,UAEZ,SAACtB,EAAD,CAAgBM,SAAUA,KAC1B,SAAC,EAAAiB,SAAD,CAAUC,UAAU,SAAC,IAAD,IAApB,UACE,SAAC,KAAD,WAMX,C,gLCzDD,IAAM3C,EAAuB,+BACvBwB,EAAkB,mCAClBU,EAAuB,kCACvBU,EAAoC,oCAAgCpB,GAEpEtB,EAAS,CACb2C,KAAM,EACNC,QAAS,EACTC,SAAU,EACVC,SAAU,GAEZC,OAAOC,OAAOhD,GAEd,IAAMiC,EAAqB,+J","sources":["components/ErrorMessage/error.styles.js","components/ErrorMessage/ErrorMessage.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","hooks/useFetch.js","pages/MovieDetails.jsx","services/constants.js"],"sourcesContent":["import styled from 'styled-components';\n\n\nconst StyledParagraph = styled.p`\n  font-size: 36px;\n  color: #ff0000;\n  text-align: center;\n`;\n\n\nexport { StyledParagraph };\n","import PropTypes from 'prop-types';\nimport { StyledParagraph } from './error.styles';\n\n\nexport default function ErrorMessage({ message }) {\n  return <StyledParagraph>{message}</StyledParagraph>;\n}\n\n\nErrorMessage.propTypes = {\n  message: PropTypes.string.isRequired,\n};","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import { useState, useEffect } from 'react';\nimport { STATUS, TMDB_API_V3_BASE_URL } from 'services/constants';\n\n\nconst useFetch = (apiQuery, apiBaseURL = TMDB_API_V3_BASE_URL) => {\n  const [status, setStatus] = useState(STATUS.IDLE);\n  const [responseData, setResponseData] = useState(null);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  useEffect(() => {\n    async function fetchData(apiQuery, apiBaseURL) {\n      if (!apiQuery) return;\n\n      setStatus(STATUS.PENDING);\n      let response = {};\n      try {\n        response = await fetch(`${apiBaseURL}${apiQuery}`);\n        if (!response.ok) {\n          throw new Error(\n            'No data found, please, change your request and try again.'\n          );\n        }\n        response = response.json();\n      } catch (error) {\n        setErrorMessage(error.message);\n        setStatus(STATUS.REJECTED);\n      }\n\n      const data = await response;\n      setResponseData(data);\n      setStatus(STATUS.RESOLVED);\n    }\n\n    fetchData(apiQuery, apiBaseURL);\n  }, [apiQuery, apiBaseURL]);\n\n  return {status, setStatus, responseData, errorMessage, setErrorMessage};\n};\n\n\nexport default useFetch;\n","import { useEffect, lazy, Suspense } from 'react';\nimport { Outlet, useParams, useLocation } from 'react-router-dom';\nimport useFetch from 'hooks/useFetch';\nimport {\n  STATUS,\n  TMDB_API_V3_KEY,\n  TMDB_IMAGES_BASE_URL,\n  DEFAULT_POSTER_URL\n} from 'services/constants';\n\nimport { BackLink } from 'components/app.styles';\n\nimport Loader from 'components/Loader/Loader';\nimport ErrorMessage from 'components/ErrorMessage/ErrorMessage';\nconst MovieGeneralInfo = lazy(() => import('components/MovieInfo/MovieGeneralInfo'));\nconst MovieInfoLinks = lazy(() => import('components/MovieInfo/MovieInfoLinks'));\n\n\nexport default function MovieDetails() {\n  const { movieId } = useParams();\n  const { status, setStatus, responseData, errorMessage, setErrorMessage } =\n    useFetch(`/movie/${movieId}?api_key=${TMDB_API_V3_KEY}`);\n\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/movies';\n  let r = responseData;\n\n  useEffect(() => {\n    if (status !== STATUS.RESOLVED) return;\n    if (!responseData) {\n      setErrorMessage('No data about the movie received.');\n      setStatus(STATUS.REJECTED);\n    }\n  }, [status, responseData, setErrorMessage, setStatus]);\n\n  return (\n    <>\n      <BackLink to={backLinkHref}>Go Back</BackLink>\n      {status === STATUS.PENDING && <Loader />}\n      {status === STATUS.REJECTED && <ErrorMessage message={errorMessage} />}\n      {status === STATUS.RESOLVED && (\n        <>\n          <MovieGeneralInfo\n            posterURL={r.poster_path ? `${TMDB_IMAGES_BASE_URL}${r.poster_path}` : DEFAULT_POSTER_URL}\n            title={r.title || r.original_title || `Movie ${movieId}`}\n            userScore={r.vote_average}\n            overview={r.overview}\n            genres={r.genres}\n          />\n          <MovieInfoLinks location={location} />\n          <Suspense fallback={<Loader />}>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </>\n  );\n}\n","const TMDB_API_V3_BASE_URL = 'https://api.themoviedb.org/3';\nconst TMDB_API_V3_KEY = '66b82de9da5bf29292195e4434639692';\nconst TMDB_IMAGES_BASE_URL = 'https://image.tmdb.org/t/p/w500';\nconst TMDB_POPULAR_MOVIES_QUERY_URL_SUFFIX = `/trending/all/day?api_key=${TMDB_API_V3_KEY}`;\n\nconst STATUS = {\n  IDLE: 0,\n  PENDING: 1,\n  REJECTED: 2,\n  RESOLVED: 3\n};\nObject.freeze(STATUS);\n\nconst DEFAULT_POSTER_URL = 'https://www.themoviedb.org/assets/2/v4/glyphicons/basic/glyphicons-basic-38-picture-grey-c2ebdbb057f2a7614185931650f8cee23fa137b93812ccb132b9df511df1cfac.svg';\n\n\nexport {\n  TMDB_API_V3_BASE_URL,\n  TMDB_API_V3_KEY,\n  TMDB_IMAGES_BASE_URL,\n  TMDB_POPULAR_MOVIES_QUERY_URL_SUFFIX,\n  STATUS,\n  DEFAULT_POSTER_URL,\n};\n"],"names":["StyledParagraph","styled","ErrorMessage","message","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","apiQuery","apiBaseURL","TMDB_API_V3_BASE_URL","useState","STATUS","status","setStatus","responseData","setResponseData","errorMessage","setErrorMessage","useEffect","response","fetch","ok","Error","json","data","fetchData","MovieGeneralInfo","lazy","MovieInfoLinks","MovieDetails","movieId","useParams","useFetch","TMDB_API_V3_KEY","location","useLocation","backLinkHref","state","from","r","to","posterURL","poster_path","TMDB_IMAGES_BASE_URL","DEFAULT_POSTER_URL","title","original_title","userScore","vote_average","overview","genres","Suspense","fallback","TMDB_POPULAR_MOVIES_QUERY_URL_SUFFIX","IDLE","PENDING","REJECTED","RESOLVED","Object","freeze"],"sourceRoot":""}